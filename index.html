<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Starting Strength Memphis | Protein Order Form</title>
    <style>
        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f8f8;
            color: #333;
            line-height: 1.6;
        }
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #e63946;
        }
        h1 {
            color: #222;
        }
        .logo {
            font-weight: bold;
            font-size: 28px;
            margin-bottom: 5px;
            color: #e63946;
            letter-spacing: 1px;
        }
        .form-container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        .form-section {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        .form-section:last-child {
            border-bottom: none;
        }
        h2 {
            color: #444;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #f0f0f0;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
            font-size: 16px;
            transition: border 0.3s ease;
        }
        input:focus, select:focus {
            border-color: #e63946;
            outline: none;
            box-shadow: 0 0 5px rgba(230, 57, 70, 0.2);
        }
        .product-item {
            display: grid;
            grid-template-columns: 100px 1fr 120px 150px;
            grid-gap: 15px;
            align-items: center;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 6px;
            background-color: #f9f9f9;
            transition: all 0.2s;
            position: relative;
            border: 1px solid transparent;
        }
        .product-item:hover {
            background-color: #f0f0f0;
            transform: translateY(-2px);
            border-color: #e6e6e6;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.05);
        }
        .product-image {
            width: 100px;
            height: 100px;
            object-fit: contain;
            background-color: white;
            border-radius: 4px;
            border: 1px solid #eee;
            transition: transform 0.2s;
        }
        .product-item:hover .product-image {
            transform: scale(1.05);
        }
        .product-info {
            display: flex;
            flex-direction: column;
        }
        .product-flavor {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 4px;
        }
        .product-type {
            color: #666;
            font-size: 14px;
            margin-bottom: 8px;
        }
        .product-size-selector {
            margin-top: 8px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        .size-option {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 4px 8px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .size-option:hover {
            border-color: #e63946;
            background-color: #fff9f9;
        }
        .size-option.active {
            background-color: #e63946;
            color: white;
            border-color: #e63946;
            font-weight: bold;
        }
        .nutrition-link {
            color: #e63946;
            cursor: pointer;
            text-decoration: underline;
            font-size: 14px;
            margin-top: 6px;
            display: inline-block;
            transition: color 0.2s;
        }
        .nutrition-link:hover {
            color: #d62a38;
            text-decoration: none;
        }
        .product-price {
            color: #e63946;
            font-weight: bold;
            font-size: 18px;
            text-align: center;
        }
        .product-actions {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .quantity-selector {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }
        input[type="number"] {
            width: 60px;
            text-align: center;
            border-radius: 20px;
            border: 2px solid #ddd;
            transition: border 0.3s;
            margin: 0 8px;
        }
        input[type="number"]:focus {
            border-color: #e63946;
        }
        .add-button {
            background-color: #e63946;
            color: white;
            padding: 8px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s;
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }
        .add-button:hover {
            background-color: #d62a38;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(230, 57, 70, 0.3);
        }
        .add-button:active {
            transform: translateY(0);
        }
        .submit-button {
            background-color: #e63946;
            color: white;
            padding: 14px 25px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            width: 100%;
            transition: all 0.3s;
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }
        .submit-button:hover {
            background-color: #d62a38;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(230, 57, 70, 0.3);
        }
        .submit-button:active {
            transform: translateY(0);
        }
        #response-container {
            margin-top: 20px;
            padding: 15px;
            border-radius: 4px;
            display: none;
            animation: fadeIn 0.5s;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #e63946;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 2s linear infinite;
            display: inline-block;
            margin-right: 10px;
            vertical-align: middle;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .summary {
            margin-top: 20px;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 6px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }
        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding-bottom: 8px;
            border-bottom: 1px solid #eee;
        }
        .summary-row:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        .total-row {
            font-weight: bold;
            font-size: 18px;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 2px solid #ddd;
            color: #e63946;
        }
        .required-field::after {
            content: " *";
            color: #e63946;
        }
        .product-category {
            font-weight: bold;
            margin: 30px 0 15px 0;
            padding-bottom: 5px;
            border-bottom: 2px solid #eee;
            font-size: 20px;
            color: #e63946;
        }
        .product-size-info {
            font-size: 12px;
            color: #666;
            margin-top: 4px;
        }
        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .remove-item {
            background: none;
            border: none;
            color: #e63946;
            cursor: pointer;
            font-size: 18px;
            transition: all 0.2s;
            padding: 0 5px;
        }
        .remove-item:hover {
            color: #d62a38;
            transform: scale(1.2);
        }
        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            overflow: auto;
            animation: fadeIn 0.3s;
        }
        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 25px;
            border-radius: 8px;
            width: 80%;
            max-width: 800px;
            position: relative;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            animation: slideIn 0.3s;
        }
        @keyframes slideIn {
            from { transform: translateY(-30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .close-modal {
            position: absolute;
            right: 20px;
            top: 15px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            color: #666;
            transition: color 0.2s;
        }
        .close-modal:hover {
            color: #e63946;
        }
        .nutrition-image {
            width: 100%;
            max-height: 80vh;
            object-fit: contain;
            border-radius: 4px;
        }
        .modal-title {
            margin-top: 0;
            padding-right: 30px;
            color: #e63946;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }
        
        /* Mobile Responsive Styles */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            .form-container {
                padding: 15px;
            }
            .product-item {
                grid-template-columns: 1fr;
                grid-gap: 10px;
                text-align: center;
            }
            .product-image {
                width: 80px;
                height: 80px;
                margin: 0 auto;
            }
            .product-info {
                text-align: center;
            }
            .product-size-selector {
                justify-content: center;
            }
            .product-price, .product-actions {
                text-align: center;
                margin-top: 10px;
            }
            h1 {
                font-size: 24px;
            }
            .logo {
                font-size: 20px;
            }
            .modal-content {
                width: 95%;
                margin: 10% auto;
            }
        }
        
        /* Tablet Responsive Styles */
        @media (min-width: 769px) and (max-width: 991px) {
            .product-item {
                grid-template-columns: 80px 1fr 100px 120px;
            }
            .product-image {
                width: 80px;
                height: 80px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">STARTING STRENGTH MEMPHIS</div>
        <h1>Ascent Protein Order Form</h1>
    </header>
    
    <div class="form-container">
        <form id="protein-order-form">
            <div class="form-section">
                <h2>Your Information</h2>
                <div class="form-group">
                    <label for="name" class="required-field">Name</label>
                    <input type="text" id="name" name="name" required>
                </div>
                
                <div class="form-group">
                    <label for="email">Email (Optional - for order confirmation)</label>
                    <input type="email" id="email" name="email">
                </div>
            </div>
            
            <div class="form-section">
                <h2>Products</h2>
                
                <div class="product-category">Whey Protein</div>
                
                <div class="product-item">
                    <img src="./Images/vanilla-main.jpeg" alt="Vanilla Whey" class="product-image" data-product-image="./Images/vanilla-main.jpeg">
                    <div class="product-info">
                        <div class="product-flavor">Vanilla Bean</div>
                        <div class="product-type">Whey Protein</div>
                        <div class="product-size-selector">
                            <div class="size-option active" data-size="2lb" data-price="40.00">2 lb - $40.00</div>
                            <div class="size-option" data-size="4lb" data-price="70.00">4 lb - $70.00</div>
                        </div>
                        <div class="nutrition-link" data-nutrition="./Images/vanilla-nutrition.jpeg">View Nutrition Facts</div>
                    </div>
                    <div class="product-price">$<span class="price-value">40.00</span></div>
                    <div class="product-actions">
                        <div class="quantity-selector">
                            <label for="vanilla-qty">Qty:</label>
                            <input type="number" id="vanilla-qty" min="0" value="0" class="quantity-input">
                        </div>
                        <button type="button" class="add-button" data-product="Vanilla Bean" data-type="Whey Protein">Add to Order</button>
                    </div>
                </div>
                
                <div class="product-item">
                    <img src="./Images/chocolate-main.jpeg" alt="Chocolate Whey" class="product-image" data-product-image="./Images/chocolate-main.jpeg">
                    <div class="product-info">
                        <div class="product-flavor">Chocolate</div>
                        <div class="product-type">Whey Protein</div>
                        <div class="product-size-selector">
                            <div class="size-option active" data-size="2lb" data-price="40.00">2 lb - $40.00</div>
                            <div class="size-option" data-size="4lb" data-price="70.00">4 lb - $70.00</div>
                        </div>
                        <div class="nutrition-link" data-nutrition="./Images/chocolate-nutrition.jpeg">View Nutrition Facts</div>
                    </div>
                    <div class="product-price">$<span class="price-value">40.00</span></div>
                    <div class="product-actions">
                        <div class="quantity-selector">
                            <label for="chocolate-qty">Qty:</label>
                            <input type="number" id="chocolate-qty" min="0" value="0" class="quantity-input">
                        </div>
                        <button type="button" class="add-button" data-product="Chocolate" data-type="Whey Protein">Add to Order</button>
                    </div>
                </div>
                
                <div class="product-item">
                    <img src="./Images/strawberry-main.jpeg" alt="Strawberry Whey" class="product-image" data-product-image="./Images/strawberry-main.jpeg">
                    <div class="product-info">
                        <div class="product-flavor">Strawberry</div>
                        <div class="product-type">Whey Protein</div>
                        <div class="product-size-selector">
                            <div class="size-option active" data-size="2lb" data-price="40.00">2 lb - $40.00</div>
                        </div>
                        <div class="nutrition-link" data-nutrition="./Images/strawberry-nutrition.jpeg">View Nutrition Facts</div>
                    </div>
                    <div class="product-price">$<span class="price-value">40.00</span></div>
                    <div class="product-actions">
                        <div class="quantity-selector">
                            <label for="strawberry-qty">Qty:</label>
                            <input type="number" id="strawberry-qty" min="0" value="0" class="quantity-input">
                        </div>
                        <button type="button" class="add-button" data-product="Strawberry" data-type="Whey Protein">Add to Order</button>
                    </div>
                </div>
                
                <div class="product-item">
                    <img src="./Images/chopeanutbutter-main.jpeg" alt="Chocolate Peanut Butter Whey" class="product-image" data-product-image="./Images/chopeanutbutter-main.jpeg">
                    <div class="product-info">
                        <div class="product-flavor">Chocolate Peanut Butter</div>
                        <div class="product-type">Whey Protein</div>
                        <div class="product-size-selector">
                            <div class="size-option active" data-size="2lb" data-price="40.00">2 lb - $40.00</div>
                            <div class="size-option" data-size="4lb" data-price="70.00">4 lb - $70.00</div>
                        </div>
                        <div class="nutrition-link" data-nutrition="./Images/chopeanutbutter-nutrition.jpeg">View Nutrition Facts</div>
                    </div>
                    <div class="product-price">$<span class="price-value">40.00</span></div>
                    <div class="product-actions">
                        <div class="quantity-selector">
                            <label for="choc-pb-qty">Qty:</label>
                            <input type="number" id="choc-pb-qty" min="0" value="0" class="quantity-input">
                        </div>
                        <button type="button" class="add-button" data-product="Chocolate Peanut Butter" data-type="Whey Protein">Add to Order</button>
                    </div>
                </div>
                
                <div class="product-item">
                    <img src="./Images/cookiescream-main.jpeg" alt="Cookies and Cream Whey" class="product-image" data-product-image="./Images/cookiescream-main.jpeg">
                    <div class="product-info">
                        <div class="product-flavor">Cookies and Cream</div>
                        <div class="product-type">Whey Protein</div>
                        <div class="product-size-selector">
                            <div class="size-option active" data-size="2lb" data-price="40.00">2 lb - $40.00</div>
                        </div>
                        <div class="nutrition-link" data-nutrition="./Images/cookiescream-nutrition.jpeg">View Nutrition Facts</div>
                    </div>
                    <div class="product-price">$<span class="price-value">40.00</span></div>
                    <div class="product-actions">
                        <div class="quantity-selector">
                            <label for="cookies-qty">Qty:</label>
                            <input type="number" id="cookies-qty" min="0" value="0" class="quantity-input">
                        </div>
                        <button type="button" class="add-button" data-product="Cookies and Cream" data-type="Whey Protein">Add to Order</button>
                    </div>
                </div>
                
                <div class="product-item">
                    <img src="./Images/mochacoldbrew-main.jpeg" alt="Mocha Cold Brew Whey" class="product-image" data-product-image="./Images/mochacoldbrew-main.jpeg">
                    <div class="product-info">
                        <div class="product-flavor">Mocha Cold Brew</div>
                        <div class="product-type">Whey Protein</div>
                        <div class="product-size-selector">
                            <div class="size-option active" data-size="2lb" data-price="40.00">2 lb - $40.00</div>
                        </div>
                        <div class="nutrition-link" data-nutrition="./Images/mochacoldbrew-nutrition.jpeg">View Nutrition Facts</div>
                    </div>
                    <div class="product-price">$<span class="price-value">40.00</span></div>
                    <div class="product-actions">
                        <div class="quantity-selector">
                            <label for="mocha-qty">Qty:</label>
                            <input type="number" id="mocha-qty" min="0" value="0" class="quantity-input">
                        </div>
                        <button type="button" class="add-button" data-product="Mocha Cold Brew" data-type="Whey Protein">Add to Order</button>
                    </div>
                </div>
                
                <div class="product-item">
                    <img src="./Images/unflavored-main.jpeg" alt="Unflavored Whey" class="product-image" data-product-image="./Images/unflavored-main.jpeg">
                    <div class="product-info">
                        <div class="product-flavor">Unflavored</div>
                        <div class="product-type">Whey Protein</div>
                        <div class="product-size-selector">
                            <div class="size-option active" data-size="2lb" data-price="40.00">2 lb - $40.00</div>
                        </div>
                        <div class="nutrition-link" data-nutrition="./Images/unflavored-nutrition.jpeg">View Nutrition Facts</div>
                    </div>
                    <div class="product-price">$<span class="price-value">40.00</span></div>
                    <div class="product-actions">
                        <div class="quantity-selector">
                            <label for="unflavored-qty">Qty:</label>
                            <input type="number" id="unflavored-qty" min="0" value="0" class="quantity-input">
                        </div>
                        <button type="button" class="add-button" data-product="Unflavored" data-type="Whey Protein">Add to Order</button>
                    </div>
                </div>
                
                <div class="product-item">
                    <img src="./Images/icedcoffee-main.jpeg" alt="Iced Coffee Whey" class="product-image" data-product-image="./Images/icedcoffee-main.jpeg">
                    <div class="product-info">
                        <div class="product-flavor">Iced Coffee</div>
                        <div class="product-type">Whey Protein</div>
                        <div class="product-size-info">15 servings</div>
                        <div class="nutrition-link" data-nutrition="./Images/Iced-Coffee-Nutrition.jpeg">View Nutrition Facts</div>
                    </div>
                    <div class="product-price">$<span class="price-value">30.00</span></div>
                    <div class="product-actions">
                        <div class="quantity-selector">
                            <label for="iced-coffee-qty">Qty:</label>
                            <input type="number" id="iced-coffee-qty" min="0" value="0" class="quantity-input">
                        </div>
                        <button type="button" class="add-button" data-product="Iced Coffee" data-type="Whey Protein">Add to Order</button>
                    </div>
                </div>

                <div class="product-category">Casein Protein</div>

                <div class="product-item">
                    <img src="./Images/vanillabean-casein-main.jpeg" alt="Vanilla Bean Casein Whey" class="product-image" data-product-image="./Images/vanillabean-casein-main.jpeg">
                    <div class="product-info">
                        <div class="product-flavor">Vanilla Bean</div>
                        <div class="product-type">Casein Protein</div>
                        <div class="product-size-selector">
                            <div class="size-option active" data-size="2lb" data-price="40.00">2 lb - $40.00</div>
                        </div>
                        <div class="nutrition-link" data-nutrition="./Images/vanillabean-casein-nutrition.jpeg">View Nutrition Facts</div>
                    </div>
                    <div class="product-price">$<span class="price-value">40.00</span></div>
                    <div class="product-actions">
                        <div class="quantity-selector">
                            <label for="vanilla-casein-qty">Qty:</label>
                            <input type="number" id="vanilla-casein-qty" min="0" value="0" class="quantity-input">
                        </div>
                        <button type="button" class="add-button" data-product="Vanilla Bean" data-type="Casein Protein">Add to Order</button>
                    </div>
                </div>

                <div class="product-item">
                    <img src="./Images/chocolate-casein-main.jpeg" alt="Chocolate Casein Whey" class="product-image" data-product-image="./Images/chocolate-casein-main.jpeg">
                    <div class="product-info">
                        <div class="product-flavor">Chocolate</div>
                        <div class="product-type">Casein Protein</div>
                        <div class="product-size-selector">
                            <div class="size-option active" data-size="2lb" data-price="40.00">2 lb - $40.00</div>
                        </div>
                        <div class="nutrition-link" data-nutrition="./Images/chocolate-casein-nutrition.jpeg">View Nutrition Facts</div>
                    </div>
                    <div class="product-price">$<span class="price-value">40.00</span></div>
                    <div class="product-actions">
                        <div class="quantity-selector">
                            <label for="chocolate-casein-qty">Qty:</label>
                            <input type="number" id="chocolate-casein-qty" min="0" value="0" class="quantity-input">
                        </div>
                        <button type="button" class="add-button" data-product="Chocolate" data-type="Casein Protein">Add to Order</button>
                    </div>
                </div>
                
                <div class="product-category">Vegan Options</div>
                
                <div class="product-item">
                    <img src="./Images/veganvanilla-main.jpeg" alt="Vegan Vanilla Protein" class="product-image" data-product-image="./Images/veganvanilla-main.jpeg">
                    <div class="product-info">
                        <div class="product-flavor">Vegan Vanilla</div>
                        <div class="product-type">Plant-Based Protein</div>
                        <div class="product-size-info">18-20 servings</div>
                        <div class="nutrition-link" data-nutrition="./Images/veganvanilla-nutrition.jpeg">View Nutrition Facts</div>
                    </div>
                    <div class="product-price">$<span class="price-value">37.00</span></div>
                    <div class="product-actions">
                        <div class="quantity-selector">
                            <label for="vegan-vanilla-qty">Qty:</label>
                            <input type="number" id="vegan-vanilla-qty" min="0" value="0" class="quantity-input">
                        </div>
                        <button type="button" class="add-button" data-product="Vegan Vanilla" data-type="Plant-Based Protein">Add to Order</button>
                    </div>
                </div>

                <div class="product-item">
                    <img src="./Images/veganchocolate-main.jpeg" alt="Vegan Chocolate Protein" class="product-image" data-product-image="./Images/veganchocolate-main.jpeg">
                    <div class="product-info">
                        <div class="product-flavor">Vegan Chocolate</div>
                        <div class="product-type">Plant-Based Protein</div>
                        <div class="product-size-info">18-20 servings</div>
                        <div class="nutrition-link" data-nutrition="./Images/veganchocolate-nutrition.jpeg">View Nutrition Facts</div>
                    </div>
                    <div class="product-price">$<span class="price-value">37.00</span></div>
                    <div class="product-actions">
                        <div class="quantity-selector">
                            <label for="vegan-chocolate-qty">Qty:</label>
                            <input type="number" id="vegan-chocolate-qty" min="0" value="0" class="quantity-input">
                        </div>
                        <button type="button" class="add-button" data-product="Vegan Chocolate" data-type="Plant-Based Protein">Add to Order</button>
                    </div>
                </div>
                
                <div class="product-category">Pre-Workout & Supplements</div>
                
                <div class="product-item">
                    <img src="./Images/energycitrus-main.jpeg" alt="Clean Hydration + Energy" class="product-image" data-product-image="./Images/energycitrus-main.jpeg">
                    <div class="product-info">
                        <div class="product-flavor">Raspberry Lemonade</div>
                        <div class="product-type">Clean Hydration + Energy</div>
                        <div class="product-size-info">40 servings</div>
                        <div class="nutrition-link" data-nutrition="./Images/energycitrus-nutrition.jpeg">View Nutrition Facts</div>
                    </div>
                    <div class="product-price">$<span class="price-value">25.00</span></div>
                    <div class="product-actions">
                        <div class="quantity-selector">
                            <label for="energy-rasp-qty">Qty:</label>
                            <input type="number" id="energy-rasp-qty" min="0" value="0" class="quantity-input">
                        </div>
                        <button type="button" class="add-button" data-product="Raspberry Lemonade" data-type="Clean Hydration + Energy">Add to Order</button>
                    </div>
                </div>

                <div class="product-item">
                    <img src="./Images/energyorangemango-main.jpeg" alt="Clean Hydration + Energy" class="product-image" data-product-image="./Images/energyorangemango-nutrition.jpeg">
                    <div class="product-info">
                        <div class="product-flavor">Orange Mango</div>
                        <div class="product-type">Clean Hydration + Energy</div>
                        <div class="product-size-info">40 servings</div>
                        <div class="nutrition-link" data-nutrition="./Images/energyorangemango-nutrition.jpeg">View Nutrition Facts</div>
                    </div>
                    <div class="product-price">$<span class="price-value">25.00</span></div>
                    <div class="product-actions">
                        <div class="quantity-selector">
                            <label for="energy-orange-qty">Qty:</label>
                            <input type="number" id="energy-orange-qty" min="0" value="0" class="quantity-input">
                        </div>
                        <button type="button" class="add-button" data-product="Orange Mango" data-type="Clean Hydration + Energy">Add to Order</button>
                    </div>
                </div>

                <div class="product-item">
                    <img src="./Images/creatine-main.jpeg" alt="Clean Creatine" class="product-image" data-product-image="./Images/creatine-main.jpeg">
                    <div class="product-info">
                        <div class="product-flavor">Unflavored</div>
                        <div class="product-type">Clean Creatine</div>
                        <div class="product-size-info">45 servings</div>
                        <div class="nutrition-link" data-nutrition="./Images/creatine-nutrition.jpeg">View Nutrition Facts</div>
                    </div>
                    <div class="product-price">$<span class="price-value">25.00</span></div>
                    <div class="product-actions">
                        <div class="quantity-selector">
                            <label for="creatine-qty">Qty:</label>
                            <input type="number" id="creatine-qty" min="0" value="0" class="quantity-input">
                        </div>
                        <button type="button" class="add-button" data-product="Unflavored" data-type="Clean Creatine">Add to Order</button>
                    </div>
                </div>
            </div>
            
            <div class="form-section">
                <h2>Order Summary</h2>
                <div id="order-summary" class="summary">
                    <div id="cart-items">
                        <!-- Cart items will be populated by JavaScript -->
                    </div>
                    <div id="summary-totals">
                        <!-- Summary totals will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <button type="submit" id="submit-button" class="submit-button">Place Order</button>
        </form>
    </div>
    
    <div id="response-container"></div>
    
    <!-- Nutrition Facts Modal -->
    <div id="nutrition-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3 class="modal-title" id="modal-title">Nutrition Facts</h3>
            <img id="nutrition-image" src="" alt="Nutrition Facts" class="nutrition-image">
        </div>
    </div>
    
    <script>
    // Replace with your Google Apps Script Web App URL after deployment
    const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyNxjRVCCgEy7a3q5dYh2D2IkytSWfWrGXubP15kkTiTkM8-3gB5Ho-vAx7n1teu-6U/exec';

    // Initialize cart as an array
    let cart = [];
    let cartItemId = 0; // To give each cart item a unique ID for removal

    // Function to update the order summary
    function updateOrderSummary() {
        try {
            console.log("Updating order summary...");
            const cartItemsElement = document.getElementById('cart-items');
            const summaryTotalsElement = document.getElementById('summary-totals');
            
            // Clear previous summary
            cartItemsElement.innerHTML = '';
            summaryTotalsElement.innerHTML = '';
            
            let subtotal = 0;
            
            // If cart is empty, show message
            if (cart.length === 0) {
                cartItemsElement.innerHTML = '<div class="summary-row">Your cart is empty</div>';
                return;
            }
            
            // Add each cart item to summary
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                subtotal += itemTotal;
                
                const cartItemElement = document.createElement('div');
                cartItemElement.className = 'summary-row cart-item';
                cartItemElement.innerHTML = `
                    <div>${item.quantity} × ${item.product} ${item.type} (${item.size})</div>
                    <div>
                        ${itemTotal.toFixed(2)}
                        <button type="button" class="remove-item" data-id="${item.id}">×</button>
                    </div>
                `;
                
                cartItemsElement.appendChild(cartItemElement);
            });
            
            // Calculate tax (9.75%)
            const taxRate = 0.0975;
            const tax = subtotal * taxRate;
            const total = subtotal + tax;
            
            // Add subtotal, tax, and total rows
            summaryTotalsElement.innerHTML = `
                <div class="summary-row">
                    <div>Subtotal:</div>
                    <div>${subtotal.toFixed(2)}</div>
                </div>
                <div class="summary-row">
                    <div>Sales Tax (9.75%):</div>
                    <div>${tax.toFixed(2)}</div>
                </div>
                <div class="summary-row total-row">
                    <div>Total:</div>
                    <div>${total.toFixed(2)}</div>
                </div>
            `;
            
            // Add event listeners to remove buttons
            document.querySelectorAll('.remove-item').forEach(button => {
                button.addEventListener('click', function() {
                    const itemId = parseInt(this.getAttribute('data-id'));
                    removeCartItem(itemId);
                });
            });
            
            console.log(`Cart updated: ${cart.length} items, Subtotal: ${subtotal.toFixed(2)}, Tax: ${tax.toFixed(2)}, Total: ${total.toFixed(2)}`);
        } catch (error) {
            console.error("Error updating summary:", error);
        }
    }

    // Function to add item to cart - MODIFIED to remove popup message
    function addToCart(product, type, size, price, quantity) {
        // Don't add if quantity is 0
        if (quantity <= 0) {
            return;
        }
        
        const newItem = {
            id: cartItemId++,
            product,
            type,
            size,
            price,
            quantity
        };
        
        cart.push(newItem);
        console.log(`Added to cart: ${quantity} × ${product} ${type} (${size}) at ${price} each`);
        
        // Reset quantity input to 0
        // Find the product container and reset quantity
        const productItems = document.querySelectorAll('.product-item');
        for (const item of productItems) {
            const flavorElement = item.querySelector('.product-flavor');
            const typeElement = item.querySelector('.product-type');
            
            if (flavorElement && typeElement && 
                flavorElement.textContent === product && 
                typeElement.textContent === type) {
                
                const quantityInput = item.querySelector('.quantity-input');
                if (quantityInput) {
                    quantityInput.value = 0;
                }
                break;
            }
        }
        
        updateOrderSummary();
        
        // Removed popup feedback message
    }

    // Function to remove item from cart
    function removeCartItem(itemId) {
        const itemIndex = cart.findIndex(item => item.id === itemId);
        if (itemIndex !== -1) {
            const removedItem = cart[itemIndex];
            console.log(`Removed from cart: ${removedItem.quantity} × ${removedItem.product} (${removedItem.size})`);
            cart.splice(itemIndex, 1);
            updateOrderSummary();
        }
    }

    // Add event listeners to "Add to Order" buttons
    document.querySelectorAll('.add-button').forEach(button => {
        button.addEventListener('click', function() {
            try {
                // Get product info
                const productItem = this.closest('.product-item');
                const product = this.getAttribute('data-product');
                const type = this.getAttribute('data-type');
                
                // Handle products with size options
                let size, price;
                const activeSize = productItem.querySelector('.size-option.active');
                
                if (activeSize) {
                    // Products with size options
                    size = activeSize.getAttribute('data-size');
                    price = parseFloat(activeSize.getAttribute('data-price'));
                } else {
                    // Products with fixed size (like those with servings)
                    const priceElement = productItem.querySelector('.price-value');
                    price = parseFloat(priceElement.textContent);
                    
                    // Try to get size from product-size-info
                    const sizeInfoElement = productItem.querySelector('.product-size-info');
                    if (sizeInfoElement) {
                        size = sizeInfoElement.textContent.trim();
                    } else {
                        size = "Standard";
                    }
                }
                
                const quantity = parseInt(productItem.querySelector('.quantity-input').value) || 0;
                
                // Add to cart
                addToCart(product, type, size, price, quantity);
            } catch (error) {
                console.error("Error adding to cart:", error);
            }
        });
    });

    // Size selector functionality
    document.querySelectorAll('.size-option').forEach(option => {
        option.addEventListener('click', function() {
            try {
                console.log("Size option clicked:", this.textContent);
                // Get parent product item
                const productItem = this.closest('.product-item');
                
                // Remove active class from all size options in this product
                productItem.querySelectorAll('.size-option').forEach(opt => {
                    opt.classList.remove('active');
                });
                
                // Add active class to clicked option
                this.classList.add('active');
                
                // Update price display
                const price = this.getAttribute('data-price');
                const priceDisplay = productItem.querySelector('.price-value');
                priceDisplay.textContent = price;
                console.log(`Updated price display to: ${price}`);
            } catch (error) {
                console.error("Error in size option click handler:", error);
            }
        });
    });

    // Modal functionality
    const modal = document.getElementById('nutrition-modal');
    const modalImage = document.getElementById('nutrition-image');
    const modalTitle = document.getElementById('modal-title');
    const closeModal = document.querySelector('.close-modal');

    // Open modal when clicking on "View Nutrition Facts"
    document.querySelectorAll('.nutrition-link').forEach(link => {
        link.addEventListener('click', function() {
            try {
                const nutritionImage = this.getAttribute('data-nutrition');
                const productFlavor = this.parentElement.querySelector('.product-flavor').textContent;
                console.log(`Opening nutrition modal for ${productFlavor}`);
                modalImage.src = nutritionImage;
                modalTitle.textContent = `${productFlavor} - Nutrition Facts`;
                modal.style.display = 'block';
            } catch (error) {
                console.error("Error opening nutrition modal:", error);
            }
        });
    });

    // Close modal when clicking on X
    closeModal.addEventListener('click', function() {
        modal.style.display = 'none';
    });

    // Close modal when clicking outside the content
    window.addEventListener('click', function(event) {
        if (event.target === modal) {
            modal.style.display = 'none';
        }
    });

    // Form submission handler
    document.getElementById('protein-order-form').addEventListener('submit', function(e) {
        e.preventDefault();
        console.log("Form submission started");
        
        // Validate the form
        const nameField = document.getElementById('name');
        const emailField = document.getElementById('email');
        
        // Check name field
        if (!nameField.value.trim()) {
            // Keep critical error for name field
            const responseContainer = document.getElementById('response-container');
            responseContainer.innerHTML = 'Please enter your name.';
            responseContainer.className = 'error';
            responseContainer.style.display = 'block';
            nameField.focus();
            return;
        }
        
        // Check email format if provided
        if (emailField.value && !isValidEmail(emailField.value)) {
            // Keep critical error for email format
            const responseContainer = document.getElementById('response-container');
            responseContainer.innerHTML = 'Please enter a valid email address or leave it blank.';
            responseContainer.className = 'error';
            responseContainer.style.display = 'block';
            emailField.focus();
            return;
        }
        
        // Check if at least one product is selected
        if (cart.length === 0) {
            // Keep critical error for empty cart
            const responseContainer = document.getElementById('response-container');
            responseContainer.innerHTML = 'Please add at least one product to your order.';
            responseContainer.className = 'error';
            responseContainer.style.display = 'block';
            return;
        }
        
        // Collect form data
        const formData = {
            name: nameField.value.trim(),
            email: emailField.value.trim() || 'Not provided',
            notes: '',
            products: []
        };
        
        // Calculate values for submission
        let subtotal = 0;
        
        // Add cart items to form data
        cart.forEach(item => {
            const itemTotal = item.price * item.quantity;
            subtotal += itemTotal;
            
            formData.products.push({
                product: `${item.product} ${item.type}`,
                size: item.size,
                quantity: item.quantity,
                price: item.price,
                itemTotal: itemTotal
            });
        });
        
        // Calculate tax and total
        const taxRate = 0.0975; // 9.75%
        const tax = subtotal * taxRate;
        const total = subtotal + tax;
        
        // Add calculated values to form data
        formData.subtotal = subtotal;
        formData.tax = tax;
        formData.total = total;
        
        console.log(`Order subtotal: ${subtotal.toFixed(2)}, Tax: ${tax.toFixed(2)}, Total: ${total.toFixed(2)}`);
        
        // Show loading state
        const submitButton = document.getElementById('submit-button');
        const originalButtonText = submitButton.innerHTML;
        submitButton.disabled = true;
        submitButton.innerHTML = '<div class="loader"></div> Processing...';
        
        console.log("Sending data to server:", formData);
        
        // Send data to Google Sheets
        fetch(SCRIPT_URL, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            mode: 'no-cors', // Add this to help with CORS issues
            body: JSON.stringify(formData)
        })
        .then(response => {
            console.log("Received response from server");
            // Since mode: 'no-cors' doesn't allow reading the response,
            // we'll just assume success if we get this far
            return { result: 'success' };
        })
        .then(data => {
            console.log("Processing successful response");
            // Show success message
            const responseContainer = document.getElementById('response-container');
            responseContainer.innerHTML = 'Your order has been submitted successfully! We will contact you when your supplements are ready for pickup.';
            responseContainer.className = 'success';
            responseContainer.style.display = 'block';
            
            // Reset form and cart
            document.getElementById('protein-order-form').reset();
            cart = [];
            updateOrderSummary();
            
            // Reset button
            submitButton.disabled = false;
            submitButton.innerHTML = originalButtonText;
            
            // Scroll to response
            responseContainer.scrollIntoView({ behavior: 'smooth' });
        })
        .catch(error => {
            console.error("Error in form submission:", error);
            // Show error message
            const responseContainer = document.getElementById('response-container');
            responseContainer.innerHTML = 'Error submitting form. Please try again later or contact Starting Strength Memphis directly.';
            responseContainer.className = 'error';
            responseContainer.style.display = 'block';
            
            // Reset button
            submitButton.disabled = false;
            submitButton.innerHTML = originalButtonText;
        });
    });

    // Email validation function
    function isValidEmail(email) {
        const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return email === '' || regex.test(email);
    }

    // Initialize the form
    document.addEventListener('DOMContentLoaded', function() {
        console.log("Document loaded, initializing form");
        updateOrderSummary();
    });
    </script>
</body>
</html>
